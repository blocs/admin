<!-- data-bloc='modal_insert' -->

<!-- 新規作成のモーダル -->
	<!-- ボタン設定 -->
		<!-- data-assign=$modal_name data-val='modal_insert' data-none=$modal_name -->
		<!-- data-include='button_primary' -->

	<!-- モーダル設定 -->
		@php empty($modal_action) && $modal_action = route(ROUTE_PREFIX.'.insert') @endphp
		<!-- data-assign=$modal_title data-lang='template:resource_blocs_modal_new_title' data-none=$modal_title -->
		<!-- data-assign=$modal_message data-lang='template:resource_blocs_modal_new_message' data-none=$modal_message -->

		<!-- data-bloc='modal_button' -->
			<!-- data-include='button_back_modal' -->
			<!-- data-include='button_primary_modal' -->
		<!-- data-endbloc -->

		<!-- data-include='modal_confirm' -->

<!-- data-endbloc -->

<!-- data-bloc='modal_update' -->

<!-- 更新のモーダル -->
	<!-- ボタン設定 -->
		<!-- data-assign=$modal_name data-val='modal_update' data-none=$modal_name -->
		<!-- data-include='button_primary' -->

	<!-- モーダル設定 -->
		@php empty($modal_action) && $modal_action = route(ROUTE_PREFIX.'.update', $id) @endphp
		<!-- data-assign=$modal_title data-lang='template:resource_blocs_modal_update_title' data-none=$modal_title -->
		<!-- data-assign=$modal_message data-lang='template:resource_blocs_modal_update_message' data-none=$modal_message -->

		<!-- data-bloc='modal_button' -->
			<!-- data-include='button_back_modal' -->
			<!-- data-assign=$button_primary_modal_label data-lang='template:resource_blocs_modal_update_button' -->
			<!-- data-include='button_primary_modal' -->
		<!-- data-endbloc -->

		<!-- data-include='modal_confirm' -->

<!-- data-endbloc -->

<!-- data-bloc='modal_delete' -->

<!-- 削除のモーダル -->
	<!-- ボタン設定 -->
		<!-- data-assign=$modal_name data-val='modal_delete' data-none=$modal_name -->
		<!-- data-include='button_danger' -->

	<!-- モーダル設定 -->
		@php empty($modal_action) && $modal_action = route(ROUTE_PREFIX.'.delete') @endphp
		<!-- data-assign=$modal_title data-lang='template:resource_blocs_modal_delete_title' data-none=$modal_title -->
		<!-- data-assign=$modal_message data-lang='template:resource_blocs_modal_delete_message' data-none=$modal_message -->

		<!-- data-bloc='modal_button' -->
			<!-- data-include='button_back_modal' -->
			<!-- data-include='button_danger_modal' -->
		<!-- data-endbloc -->

		<!-- data-include='modal_confirm' -->

<!-- data-endbloc -->

<!-- data-bloc='modal_toggle' -->

	<!-- data-assign=$modal_name data-val='modal_toggle' data-none=$modal_name -->
	<!-- data-assign=$modal_titile_submit data-lang='template:resource_blocs_modal_activate_title' data-none=$modal_titile_submit -->
	<!-- data-assign=$modal_message_submit data-lang='template:resource_blocs_modal_activate_message' data-none=$modal_message_submit -->
	<!-- data-assign=$modal_title_warning data-lang='template:resource_blocs_modal_inactivate_title' data-none=$modal_title_warning -->
	<!-- data-assign=$modal_message_warning data-lang='template:resource_blocs_modal_inactivate_message' data-none=$modal_message_warning -->

	@php empty($modal_action) && $modal_action = route(ROUTE_PREFIX.'.toggle', '') @endphp

	<script type='text/javascript'>
	$(function(){

		$('button[data-target="#modal_toggle"]').on('click', function(){

			var modal_toggle = $('#modal_toggle');
			if($(this).hasClass('btn-danger') || $(this).hasClass('btn-warning')){
				modal_toggle.find('.modal-title').text('<!-- data-val=$modal_titile_submit -->');
				modal_toggle.find('.modal-message').text('<!-- data-val=$modal_message_submit -->');
				modal_toggle.find('.btn-success').show();
				modal_toggle.find('.btn-warning').hide();
			} else {
				modal_toggle.find('.modal-title').text('<!-- data-val=$modal_title_warning -->');
				modal_toggle.find('.modal-message').text('<!-- data-val=$modal_message_warning -->');
				modal_toggle.find('.btn-success').hide();
				modal_toggle.find('.btn-warning').show();
			}

			var tr = $(this).closest('tr');
			$(this).closest('form').attr('action', '<!-- data-val=$modal_action -->/' + tr.find('input[name$="[selected_rows][]"]:first').val());

			if(tr.find('.toggle-item').length){
				modal_toggle.find('.itemtitle').text(tr.find('.toggle-item').text());
			}
			modal_toggle.modal('show');

		});

	});
	</script>

	<!-- data-include='modal_common' -->

<!-- data-endbloc -->

<!-- data-bloc='modal_confirm' -->

	<script type='text/javascript'>
	$(function(){

	<!-- data-exist=$modal_action -->
		$('button[data-target="#<!-- data-val=$modal_name -->"]').on('click', function(){
			$(this).closest('form').attr('action', '<!-- data-val=$modal_action -->');
		});
	<!-- data-endif -->

		$('#<!-- data-val=$modal_name -->').find('button').attr('disabled', 'disabled');
		$('#<!-- data-val=$modal_name -->').on('show.bs.modal shown.bs.modal', function () {
			if($('.modal-notice-item').length){
				if($('.modal-notice-item').val()){
					$('#<!-- data-val=$modal_name -->').find('.itemtitle').text($('.modal-notice-item').val());
				} else {
					$('#<!-- data-val=$modal_name -->').find('.itemtitle').text($('.modal-notice-item').text());
				}
			}
			$('#<!-- data-val=$modal_name -->').find('button').removeAttr('disabled');
		});

	});
	</script>

	<!-- data-include='modal_common' -->

<!-- data-endbloc -->

<!-- data-bloc='modal_common' -->

	<!-- data-attribute='id' data-val=$modal_name -->
	<div class='modal fade text-left'>
		<div class='modal-dialog'>
			<div class='modal-content'>
				<div class='modal-header'>
					<!-- data-include='button_close_modal' -->
					<h4 class='modal-title' data-val=$modal_title></h4>
				</div>
				<div class='modal-body'>
					<p class='modal-message' data-val=$modal_message></p>
					<div class='itemtitle'></div>
					<!-- data-include='modal_body' data-exist -->
				</div>
				<div class='modal-footer'>
					<!-- data-include='modal_button' -->
				</div>
			</div>
		</div>
	</div>

	<!-- data-assign=$modal_name data-val='' -->
	<!-- data-assign=$modal_action data-val='' -->
	<!-- data-assign=$modal_title data-val='' -->
	<!-- data-assign=$modal_message data-val='' -->
	<!-- data-assign=$button_primary_modal_label data-val='' -->

	<!-- data-bloc='modal_body' --><!-- data-endbloc -->
	<!-- data-bloc='modal_button' --><!-- data-endbloc -->

<!-- data-endbloc -->
